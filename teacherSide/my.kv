#:import Window kivy.core.window.Window
#:import Time time.sleep

#:set butH Window.height/4
#:set butW Window.width/3

#:set mainImgH Window.height/3
#:set mainImgW Window.width/1.2

#:set smallImgH Window.height/6
#:set smallImgW Window.width/3

#:set smallButH Window.height/18
#:set smallButW Window.width/4

#:set smallButHeightHint 0.05
#:set fontSize Window.width/30

#:set backgroundColor [1,0,0.5,1]
#:set textColor [1,1,0,1]
#:set recentUsedColor [1,1,0,1]

<Button>
    font_size : fontSize
    color : textColor
    background_color : backgroundColor
    size_hint : 0.3,0.1
    


WindowManager:
    MainWindow:
    DepartmentWindow:
    BctWindow:
    BexWindow:
    BelWindow:
    SectionWindow:
    BctCDWindow:

<MainWindow>:
    name: "main"

    AnchorLayout:
        anchor_x:'center'
        anchor_y:'center'
        rows:3

        AnchorLayout:
            anchor_x :'center'
            anchor_y :'top'

            Image:
                source: "assets/logo.png"
                size_hint: [None, None]
                size: [mainImgW,mainImgH]
        

        AnchorLayout:
            anchor_x :'center'
            anchor_y :'center'

            GridLayout:
                size_hint : [None,None]
                size : [butW,butH]
                cols:1

                GridLayout:
                    size_hint : [None,None]
                    size : [butW,butH/2]
                    cols:2

                    Label:
                        text:"Teacher ID:"
                    
                    TextInput:
                        id: teacherId
                        multiline: False
                
                Button:
                    text: "next"
                    on_release:
                        app.root.current = "dpwindow"
                        root.manager.transition.direction = "left"



<DepartmentWindow>:
    name: "dpwindow"

    AnchorLayout:
        anchor_x:'center'
        anchor_y:'center'
        rows:3

        AnchorLayout:
            anchor_x :'center'
            anchor_y :'top'

            Image:
                source: "assets/logo.png"
                size_hint: [None, None]
                size: [mainImgW,mainImgH]
        
        AnchorLayout:

            anchor_x :'right'
            anchor_y :'top'
            
            Button:
                id: "back-btn"
                text: "Go Back"
                size_hint : [None,None]
                size : [smallButW,smallButH]
                
                on_release:
                    app.root.current = "main"
                    root.manager.transition.direction = "right"
        
        AnchorLayout:
            anchor_x :'center'
            anchor_y :'center'

            GridLayout:
                size_hint : [None,None]
                size : [butW,butH]
                cols:1

                Button:
                    id:bctBtn
                    text: "Bct"
                    # JUST A TEST TO LEARN USING KV AND PYTHOM
                    # on_press : root.buttonPressed(bctBtn) ,Time(0.5),root.exitingButtonPress(bctBtn)
                    on_press : root.buttonPressed(bctBtn,recentUsedColor)
                    on_release:
                        app.root.current = "bct"
                        root.manager.transition.direction = "left"
                        root.exitingButtonPress(bctBtn)


                Button:
                    text: "Bex"
                    on_release:
                        app.root.current = "bex"
                        root.manager.transition.direction = "left"

                Button:
                    text: "Bel"
                    on_release:
                        app.root.current = "bel"
                        root.manager.transition.direction = "left"
        


<BctWindow>:
    name: "bct"

    AnchorLayout:
        anchor_x:'center'
        anchor_y:'center'
        rows:3

        AnchorLayout:
            anchor_x :'left'
            anchor_y :'top'

            Image:
                source: "assets/logo.png"
                size_hint: [None, None]
                size: [smallImgW,smallImgH]
    
        AnchorLayout:

            anchor_x :'right'
            anchor_y :'top'
            
            Button:
                id: "back-btn"
                text: "Go Back"
                size_hint : [None,None]
                size : [smallButW,smallButH]

                on_release:
                    app.root.current = "dpwindow"
                    root.manager.transition.direction = "right"
        
        AnchorLayout:

            anchor_x :'center'
            anchor_y :'center'

            GridLayout:
                cols: 1
                size_hint : [None,None]
                size : [butW,butH]
   
                Button:
                    text : "First Year"
                
                Button:
                    text : "Second Year"

                Button:
                    text : "Third Year"
                    on_release:
                        app.root.current ="section"
                        root.manager.transition.direction = "left"

                Button:
                    text : "Fourth Year"


<BexWindow>:
    name: "bex"

    AnchorLayout:
        anchor_x:'center'
        anchor_y:'center'
        rows:3

        AnchorLayout:
            anchor_x :'left'
            anchor_y :'top'

            Image:
                source: "assets/logo.png"
                size_hint: [None, None]
                size: [smallImgW,smallImgH]
    
        AnchorLayout:

            anchor_x :'right'
            anchor_y :'top'
            
            Button:
                id: "back-btn"
                text: "Go Back"
                size_hint : [None,None]
                size : [smallButW,smallButH]
                
                on_release:
                    app.root.current = "dpwindow"
                    root.manager.transition.direction = "right"
        
        AnchorLayout:

            anchor_x :'center'
            anchor_y :'center'

            GridLayout:
                cols: 1
                size_hint : [None,None]
                size : [butW,butH]
   
                Button:
                    text : "First Year"
                
                Button:
                    text : "Second Year"

                Button:
                    text : "Third Year"

                Button:
                    text : "Fourth Year"

<BelWindow>:
    name: "bel"

    AnchorLayout:
        anchor_x:'center'
        anchor_y:'center'
        rows:3

        AnchorLayout:
            anchor_x :'left'
            anchor_y :'top'

            Image:
                source: "assets/logo.png"
                size_hint: [None, None]
                size: [smallImgW,smallImgH]
    
        AnchorLayout:

            anchor_x :'right'
            anchor_y :'top'
            
            Button:
                id: "back-btn"
                text: "Go Back"
                size_hint : [None,None]
                size : [smallButW,smallButH]
                
                on_release:
                    app.root.current = "dpwindow"
                    root.manager.transition.direction = "right"
        
        AnchorLayout:

            anchor_x :'center'
            anchor_y :'center'

            GridLayout:
                cols: 1
                size_hint : [None,None]
                size : [butW,butH]
   
                Button:
                    text : "First Year"
                
                Button:
                    text : "Second Year"

                Button:
                    text : "Third Year"

                Button:
                    text : "Fourth Year"
            

<SectionWindow>:
    name: "section"

    AnchorLayout:
        anchor_x:'center'
        anchor_y:'center'
        rows:3

        AnchorLayout:
            anchor_x :'left'
            anchor_y :'top'

            Image:
                source: "assets/logo.png"
                size_hint: [None, None]
                size: [smallImgW,smallImgH]
    
        AnchorLayout:

            anchor_x :'right'
            anchor_y :'top'
            
            Button:
                id: "back-btn"
                text: "Go Back"
                size_hint : [None,None]
                size : [smallButW,smallButH]
                
                on_release:
                    app.root.current = "bct"
                    root.manager.transition.direction = "right"
    
    AnchorLayout:
        anchor_x:'center'
        anchor_y:'center'

        GridLayout:
            cols: 1
            size_hint:[0.3,0.15]
            size:[100,100]

            Button:
                text : "AB"
        
            Button:
                text : "CD"
                on_release:
                    app.root.current = "bct-cd"
                    root.manager.transition.direction = "left"
<BctCDWindow>:
    name : "bct-cd"

    AnchorLayout:
        anchor_x:'center'
        anchor_y:'center'
        rows:3

        AnchorLayout:
            anchor_x :'left'
            anchor_y :'top'

            Image:
                source: "assets/logo.png"
                size_hint: [None, None]
                size: [smallImgW,smallImgH]
    
        AnchorLayout:

            anchor_x :'right'
            anchor_y :'top'
            
            Button:
                id: "back-btn"
                text: "Go Back"
                size_hint : [None,None]
                size : [smallButW,smallButH]
                
                on_release:
                    app.root.current = "section"
                    root.manager.transition.direction = "right"

        Button:
            text: "Start Attendance"
    
        
        