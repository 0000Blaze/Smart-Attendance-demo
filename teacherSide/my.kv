#:import Window kivy.core.window.Window
#:import Time time.sleep

#:set butH Window.height/4
#:set butW Window.width/3

#:set mainImgH Window.height/3
#:set mainImgW Window.width/1.2

#:set smallImgH Window.height/6
#:set smallImgW Window.width/3

#:set smallButH Window.height/18
#:set smallButW Window.width/4

#:set smallButHeightHint 0.05
#:set fontSize Window.width/30

#:set backgroundColor [1,0,0.5,1]
#:set textColor [1,1,0,1]
#:set recentUsedColor [1,1,0,1]

<Button>
    font_size : fontSize
    color : textColor
    background_color : backgroundColor
    size_hint : 0.3,0.1
    


WindowManager:
    MainWindow:
    BctCDWindow:

<MainWindow>:
    name: "main"

    AnchorLayout:
        anchor_x:'center'
        anchor_y:'center'
        rows:3

        AnchorLayout:
            anchor_x :'center'
            anchor_y :'top'

            Image:
                source: "assets/logo.png"
                size_hint: [None, None]
                size: [mainImgW,mainImgH]
        

        AnchorLayout:
            anchor_x :'center'
            anchor_y :'center'

            BoxLayout:
                columns: 3
                orientation : 'vertical'
                size_hint : 0.7,0.3
                
                Label:
                    id: t_id
                    text:"Teacher ID:"
                
                TextInput:
                    id: teacherId
                    multiline: False
                    
                Button:
                    name:"verify"
                    text :"Verify"
                    
                    size_hint : 1,0.8
                    on_release: 
                        app.root.current = "bct-cd"
                        root.manager.transition.direction = "left"

<BctCDWindow>:
    name : "bct-cd"

    AnchorLayout:
        anchor_x:'center'
        anchor_y:'center'
        rows:3

        AnchorLayout:
            anchor_x :'left'
            anchor_y :'top'

            Image:
                source: "assets/logo.png"
                size_hint: [None, None]
                size: [smallImgW,smallImgH]
    
        AnchorLayout:

            anchor_x :'right'
            anchor_y :'top'
            
            Button:
                id: "back-btn"
                text: "Go Back"
                size_hint : [None,None]
                size : [smallButW,smallButH]
                
                on_release:
                    app.root.current = "main"
                    root.manager.transition.direction = "right"

            AnchorLayout:
                anchor_x :'left'  
                anchor_y :'center'
     
                BoxLayout:
                    orientation:'vertical'
                    columns:2
                    size_hint : 1,0.2

                    Button:
                        text: "Update Attendance"

                    Button:
                        text: "Stop Attendance"

            AnchorLayout:
                anchor_x :'center'  
                anchor_y :'center'
                
                BoxLayout:
                    columns: 3
                    orientation : 'vertical'
                    size_hint : 0.3,0.3
                    
                    Label:
                        id: class_label
                        text:"Class:"
                    
                    TextInput:
                        id: class_id
                        multiline: False
                        
                    Button:
                        text :"Start Attendance"
                        size_hint : 1,0.8

            AnchorLayout:
                anchor_x :'right'  
                anchor_y :'center'


                Button:
                    id: btn
                    text: 'Subject'
                    on_release: dropdown.open(self)
                    
                Widget:
                    on_parent:dropdown.dismiss() 
                    
                DropDown:
                    id: dropdown
                    on_select: btn.text = '{}'.format(args[1])

                    Button:
                        text: 'OS'
                        size_hint_y: None
                        height: butH/4
                        on_release: dropdown.select('OS')

                    Button:
                        text: 'OOAD'
                        size_hint_y: None
                        height: butH/4
                        on_release: dropdown.select('OOAD')
                        
                    Button:
                        text: 'AI'
                        size_hint_y: None
                        height: butH/4
                        on_release: dropdown.select('AI')
                        
                    Button:
                        text: 'DBMS'
                        size_hint_y: None
                        height: butH/4
                        on_release: dropdown.select('DBMS')
                        
                    Button:
                        text: 'ES'
                        size_hint_y: None
                        height: butH/4
                        on_release: dropdown.select('ES')

                    Button:
                        text: 'EE'
                        size_hint_y: None
                        height: butH/4
                        on_release: dropdown.select('EE')        